function _toConsumableArray(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}var _slice=Array.prototype.slice;!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],b):a.parsley=b(a.jQuery)}(this,function(a){"use strict";function F(a,b){return a.parsleyAdaptedCallback||(a.parsleyAdaptedCallback=function(){var c=Array.prototype.slice.call(arguments,0);c.unshift(this),a.apply(b||D,c)}),a.parsleyAdaptedCallback}function H(a){return 0===a.lastIndexOf(G,0)?a.substr(G.length):a}function J(){var b=this,c=window||global;a.extend(this,{isNativeEvent:function(b){return b.originalEvent&&b.originalEvent.isTrusted!==!1},fakeInputEvent:function(d){b.isNativeEvent(d)&&a(d.target).trigger("input")},misbehaves:function(d){b.isNativeEvent(d)&&(b.behavesOk(d),a(document).on("change.inputevent",d.data.selector,b.fakeInputEvent),b.fakeInputEvent(d))},behavesOk:function(d){b.isNativeEvent(d)&&a(document).off("input.inputevent",d.data.selector,b.behavesOk).off("change.inputevent",d.data.selector,b.misbehaves)},install:function(){if(!c.inputEventPatched){c.inputEventPatched="0.0.3";for(var e=["select",'input[type="checkbox"]','input[type="radio"]','input[type="file"]'],f=0;f<e.length;f++){var g=e[f];a(document).on("input.inputevent",g,{selector:g},b.behavesOk).on("change.inputevent",g,{selector:g},b.misbehaves)}}},uninstall:function(){delete c.inputEventPatched,a(document).off(".inputevent")}})}var b=1,c={},d={attr:function(b,c,d){var e,f,g,h=new RegExp("^"+c,"i");if("undefined"==typeof d)d={};else for(e in d)d.hasOwnProperty(e)&&delete d[e];if("undefined"==typeof b||"undefined"==typeof b[0])return d;for(g=b[0].attributes,e=g.length;e--;)f=g[e],f&&f.specified&&h.test(f.name)&&(d[this.camelize(f.name.slice(c.length))]=this.deserializeValue(f.value));return d},checkAttr:function(b,c,d){return b.is("["+c+d+"]")},setAttr:function(b,c,d,e){b[0].setAttribute(this.dasherize(c+d),String(e))},generateID:function(){return""+b++},deserializeValue:function(c){var d;try{return c?"true"==c||"false"!=c&&("null"==c?null:isNaN(d=Number(c))?/^[\[\{]/.test(c)?a.parseJSON(c):c:d):c}catch(a){return c}},camelize:function(b){return b.replace(/-+(.)?/g,function(a,b){return b?b.toUpperCase():""})},dasherize:function(b){return b.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()},warn:function(){var b;window.console&&"function"==typeof window.console.warn&&(b=window.console).warn.apply(b,arguments)},warnOnce:function(b){c[b]||(c[b]=!0,this.warn.apply(this,arguments))},_resetWarnings:function(){c={}},trimString:function(b){return b.replace(/^\s+|\s+$/g,"")},namespaceEvents:function(c,d){return c=this.trimString(c||"").split(/\s+/),c[0]?a.map(c,function(a){return a+"."+d}).join(" "):""},difference:function(c,d){var e=[];return a.each(c,function(a,b){d.indexOf(b)==-1&&e.push(b)}),e},all:function(c){return a.when.apply(a,_toConsumableArray(c).concat([42,42]))},objectCreate:Object.create||function(){var a=function(){};return function(b){if(arguments.length>1)throw Error("Second argument not supported");if("object"!=typeof b)throw TypeError("Argument must be an object");a.prototype=b;var c=new a;return a.prototype=null,c}}(),_SubmitSelector:'input[type="submit"], button:submit'},e=d,f={namespace:"data-parsley-",inputs:"input, textarea, select",excluded:"input[type=button], input[type=submit], input[type=reset], input[type=hidden]",priorityEnabled:!0,multiple:null,group:null,uiEnabled:!0,validationThreshold:3,focus:"first",trigger:!1,triggerAfterFailure:"input",errorClass:"parsley-error",successClass:"parsley-success",classHandler:function(b){},errorsContainer:function(b){},errorsWrapper:'<ul class="parsley-errors-list"></ul>',errorTemplate:"<li></li>"},g=function(){this.__id__=e.generateID()};g.prototype={asyncSupport:!0,_pipeAccordingToValidationResult:function(){var c=this,d=function(){var d=a.Deferred();return!0!==c.validationResult&&d.reject(),d.resolve().promise()};return[d,d]},actualizeOptions:function(){return e.attr(this.$element,this.options.namespace,this.domOptions),this.parent&&this.parent.actualizeOptions&&this.parent.actualizeOptions(),this},_resetOptions:function(b){this.domOptions=e.objectCreate(this.parent.options),this.options=e.objectCreate(this.domOptions);for(var c in b)b.hasOwnProperty(c)&&(this.options[c]=b[c]);this.actualizeOptions()},_listeners:null,on:function(b,c){this._listeners=this._listeners||{};var d=this._listeners[b]=this._listeners[b]||[];return d.push(c),this},subscribe:function(c,d){a.listenTo(this,c.toLowerCase(),d)},off:function(b,c){var d=this._listeners&&this._listeners[b];if(d)if(c)for(var e=d.length;e--;)d[e]===c&&d.splice(e,1);else delete this._listeners[b];return this},unsubscribe:function(c,d){a.unsubscribeTo(this,c.toLowerCase())},trigger:function(b,c,d){c=c||this;var f,e=this._listeners&&this._listeners[b];if(e)for(var h=e.length;h--;)if(f=e[h].call(c,c,d),f===!1)return f;return!this.parent||this.parent.trigger(b,c,d)},reset:function(){if("ParsleyForm"!==this.__class__)return this._resetUI(),this._trigger("reset");for(var b=0;b<this.fields.length;b++)this.fields[b].reset();this._trigger("reset")},destroy:function(){if(this._destroyUI(),"ParsleyForm"!==this.__class__)return this.$element.removeData("Parsley"),this.$element.removeData("ParsleyFieldMultiple"),void this._trigger("destroy");for(var b=0;b<this.fields.length;b++)this.fields[b].destroy();this.$element.removeData("Parsley"),this._trigger("destroy")},asyncIsValid:function(b,c){return e.warnOnce("asyncIsValid is deprecated; please use whenValid instead"),this.whenValid({group:b,force:c})},_findRelated:function(){return this.options.multiple?this.parent.$element.find("["+this.options.namespace+'multiple="'+this.options.multiple+'"]'):this.$element}};var h={string:function(b){return b},integer:function(b){if(isNaN(b))throw'Requirement is not an integer: "'+b+'"';return parseInt(b,10)},number:function(b){if(isNaN(b))throw'Requirement is not a number: "'+b+'"';return parseFloat(b)},reference:function(c){var d=a(c);if(0===d.length)throw'No such reference: "'+c+'"';return d},boolean:function(b){return"false"!==b},object:function(b){return e.deserializeValue(b)},regexp:function(b){var c="";return/^\/.*\/(?:[gimy]*)$/.test(b)?(c=b.replace(/.*\/([gimy]*)$/,"$1"),b=b.replace(new RegExp("^/(.*?)/"+c+"$"),"$1")):b="^"+b+"$",new RegExp(b,c)}},i=function(b,c){var d=b.match(/^\s*\[(.*)\]\s*$/);if(!d)throw'Requirement is not an array: "'+b+'"';var f=d[1].split(",").map(e.trimString);if(f.length!==c)throw"Requirement has "+f.length+" values when "+c+" are needed";return f},j=function(b,c){var d=h[b||"string"];if(!d)throw'Unknown requirement specification: "'+b+'"';return d(c)},k=function(b,c,d){var e=null,f={};for(var g in b)if(g){var h=d(g);"string"==typeof h&&(h=j(b[g],h)),f[g]=h}else e=j(b[g],c);return[e,f]},l=function(c){a.extend(!0,this,c)};l.prototype={validate:function(c,d){if(this.fn)return arguments.length>3&&(d=[].slice.call(arguments,1,-1)),this.fn.call(this,c,d);if(a.isArray(c)){if(!this.validateMultiple)throw"Validator `"+this.name+"` does not handle multiple values";return this.validateMultiple.apply(this,arguments)}if(this.validateNumber)return!isNaN(c)&&(arguments[0]=parseFloat(arguments[0]),this.validateNumber.apply(this,arguments));if(this.validateString)return this.validateString.apply(this,arguments);throw"Validator `"+this.name+"` only handles multiple values"},parseRequirements:function(c,d){if("string"!=typeof c)return a.isArray(c)?c:[c];var e=this.requirementType;if(a.isArray(e)){for(var f=i(c,e.length),g=0;g<f.length;g++)f[g]=j(e[g],f[g]);return f}return a.isPlainObject(e)?k(e,c,d):[j(e,c)]},requirementType:"string",priority:2};var m=function(b,c){this.__class__="ParsleyValidatorRegistry",this.locale="en",this.init(b||{},c||{})},n={email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,number:/^-?(\d*\.)?\d+(e[-+]?\d+)?$/i,integer:/^-?\d+$/,digits:/^\d+$/,alphanum:/^\w+$/i,url:new RegExp("^(?:(?:https?|ftp)://)?(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:/\\S*)?$","i")};n.range=n.number;var o=function(b){var c=(""+b).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return c?Math.max(0,(c[1]?c[1].length:0)-(c[2]?+c[2]:0)):0};m.prototype={init:function(c,d){this.catalog=d,this.validators=a.extend({},this.validators);for(var e in c)this.addValidator(e,c[e].fn,c[e].priority);window.Parsley.trigger("parsley:validator:init")},setLocale:function(b){if("undefined"==typeof this.catalog[b])throw new Error(b+" is not available in the catalog");return this.locale=b,this},addCatalog:function(b,c,d){return"object"==typeof c&&(this.catalog[b]=c),!0===d?this.setLocale(b):this},addMessage:function(b,c,d){return"undefined"==typeof this.catalog[b]&&(this.catalog[b]={}),this.catalog[b][c]=d,this},addMessages:function(b,c){for(var d in c)this.addMessage(b,d,c[d]);return this},addValidator:function(b,c,d){if(this.validators[b])e.warn('Validator "'+b+'" is already defined.');else if(f.hasOwnProperty(b))return void e.warn('"'+b+'" is a restricted keyword and is not a valid validator name.');return this._setValidator.apply(this,arguments)},updateValidator:function(b,c,d){return this.validators[b]?this._setValidator.apply(this,arguments):(e.warn('Validator "'+b+'" is not already defined.'),this.addValidator.apply(this,arguments))},removeValidator:function(b){return this.validators[b]||e.warn('Validator "'+b+'" is not defined.'),delete this.validators[b],this},_setValidator:function(b,c,d){"object"!=typeof c&&(c={fn:c,priority:d}),c.validate||(c=new l(c)),this.validators[b]=c;for(var e in c.messages||{})this.addMessage(e,b,c.messages[e]);return this},getErrorMessage:function(b){var c;if("type"===b.name){var d=this.catalog[this.locale][b.name]||{};c=d[b.requirements]}else c=this.formatMessage(this.catalog[this.locale][b.name],b.requirements);return c||this.catalog[this.locale].defaultMessage||this.catalog.en.defaultMessage},formatMessage:function(b,c){if("object"==typeof c){for(var d in c)b=this.formatMessage(b,c[d]);return b}return"string"==typeof b?b.replace(/%s/i,c):""},validators:{notblank:{validateString:function(b){return/\S/.test(b)},priority:2},required:{validateMultiple:function(b){return b.length>0},validateString:function(b){return/\S/.test(b)},priority:512},type:{validateString:function(b,c){var d=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],e=d.step,f=void 0===e?"any":e,g=d.base,h=void 0===g?0:g,i=n[c];if(!i)throw new Error("validator type `"+c+"` is not supported");if(!i.test(b))return!1;if("number"===c&&!/^any$/i.test(f||"")){var j=Number(b),k=Math.max(o(f),o(h));if(o(j)>k)return!1;var l=function(b){return Math.round(b*Math.pow(10,k))};if((l(j)-l(h))%l(f)!=0)return!1}return!0},requirementType:{"":"string",step:"string",base:"number"},priority:256},pattern:{validateString:function(b,c){return c.test(b)},requirementType:"regexp",priority:64},minlength:{validateString:function(b,c){return b.length>=c},requirementType:"integer",priority:30},maxlength:{validateString:function(b,c){return b.length<=c},requirementType:"integer",priority:30},length:{validateString:function(b,c,d){return b.length>=c&&b.length<=d},requirementType:["integer","integer"],priority:30},mincheck:{validateMultiple:function(b,c){return b.length>=c},requirementType:"integer",priority:30},maxcheck:{validateMultiple:function(b,c){return b.length<=c},requirementType:"integer",priority:30},check:{validateMultiple:function(b,c,d){return b.length>=c&&b.length<=d},requirementType:["integer","integer"],priority:30},min:{validateNumber:function(b,c){return b>=c},requirementType:"number",priority:30},max:{validateNumber:function(b,c){return b<=c},requirementType:"number",priority:30},range:{validateNumber:function(b,c,d){return b>=c&&b<=d},requirementType:["number","number"],priority:30},equalto:{validateString:function(c,d){var e=a(d);return e.length?c===e.val():c===d},priority:256}}};var p={},q=function a(b,c,d){for(var e=[],f=[],g=0;g<b.length;g++){for(var h=!1,i=0;i<c.length;i++)if(b[g].assert.name===c[i].assert.name){h=!0;break}h?f.push(b[g]):e.push(b[g])}return{kept:f,added:e,removed:d?[]:a(c,b,!0).added}};p.Form={_actualizeTriggers:function(){var b=this;this.$element.on("submit.Parsley",function(a){b.onSubmitValidate(a)}),this.$element.on("click.Parsley",e._SubmitSelector,function(a){b.onSubmitButton(a)}),!1!==this.options.uiEnabled&&this.$element.attr("novalidate","")},focus:function(){if(this._focusedField=null,!0===this.validationResult||"none"===this.options.focus)return null;for(var b=0;b<this.fields.length;b++){var c=this.fields[b];if(!0!==c.validationResult&&c.validationResult.length>0&&"undefined"==typeof c.options.noFocus&&(this._focusedField=c.$element,"first"===this.options.focus))break}return null===this._focusedField?null:this._focusedField.focus()},_destroyUI:function(){this.$element.off(".Parsley")}},p.Field={_reflowUI:function(){if(this._buildUI(),this._ui){var b=q(this.validationResult,this._ui.lastValidationResult);this._ui.lastValidationResult=this.validationResult,this._manageStatusClass(),this._manageErrorsMessages(b),this._actualizeTriggers(),!b.kept.length&&!b.added.length||this._failedOnce||(this._failedOnce=!0,this._actualizeTriggers())}},getErrorsMessages:function(){if(!0===this.validationResult)return[];for(var b=[],c=0;c<this.validationResult.length;c++)b.push(this.validationResult[c].errorMessage||this._getErrorMessage(this.validationResult[c].assert));return b},addError:function(b){var c=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],d=c.message,e=c.assert,f=c.updateClass,g=void 0===f||f;this._buildUI(),this._addError(b,{message:d,assert:e}),g&&this._errorClass()},updateError:function(b){var c=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],d=c.message,e=c.assert,f=c.updateClass,g=void 0===f||f;this._buildUI(),this._updateError(b,{message:d,assert:e}),g&&this._errorClass()},removeError:function(b){var c=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],d=c.updateClass,e=void 0===d||d;this._buildUI(),this._removeError(b),e&&this._manageStatusClass()},_manageStatusClass:function(){this.hasConstraints()&&this.needsValidation()&&!0===this.validationResult?this._successClass():this.validationResult.length>0?this._errorClass():this._resetClass()},_manageErrorsMessages:function(c){if("undefined"==typeof this.options.errorsMessagesDisabled){if("undefined"!=typeof this.options.errorMessage)return c.added.length||c.kept.length?(this._insertErrorWrapper(),0===this._ui.$errorsWrapper.find(".parsley-custom-error-message").length&&this._ui.$errorsWrapper.append(a(this.options.errorTemplate).addClass("parsley-custom-error-message")),this._ui.$errorsWrapper.addClass("filled").find(".parsley-custom-error-message").html(this.options.errorMessage)):this._ui.$errorsWrapper.removeClass("filled").find(".parsley-custom-error-message").remove();for(var d=0;d<c.removed.length;d++)this._removeError(c.removed[d].assert.name);for(d=0;d<c.added.length;d++)this._addError(c.added[d].assert.name,{message:c.added[d].errorMessage,assert:c.added[d].assert});for(d=0;d<c.kept.length;d++)this._updateError(c.kept[d].assert.name,{message:c.kept[d].errorMessage,assert:c.kept[d].assert})}},_addError:function(c,d){var e=d.message,f=d.assert;this._insertErrorWrapper(),this._ui.$errorsWrapper.addClass("filled").append(a(this.options.errorTemplate).addClass("parsley-"+c).html(e||this._getErrorMessage(f)))},_updateError:function(b,c){var d=c.message,e=c.assert;this._ui.$errorsWrapper.addClass("filled").find(".parsley-"+b).html(d||this._getErrorMessage(e))},_removeError:function(b){this._ui.$errorsWrapper.removeClass("filled").find(".parsley-"+b).remove()},_getErrorMessage:function(b){var c=b.name+"Message";return"undefined"!=typeof this.options[c]?window.Parsley.formatMessage(this.options[c],b.requirements):window.Parsley.getErrorMessage(b)},_buildUI:function(){if(!this._ui&&!1!==this.options.uiEnabled){var c={};this.$element.attr(this.options.namespace+"id",this.__id__),c.$errorClassHandler=this._manageClassHandler(),c.errorsWrapperId="parsley-id-"+(this.options.multiple?"multiple-"+this.options.multiple:this.__id__),c.$errorsWrapper=a(this.options.errorsWrapper).attr("id",c.errorsWrapperId),c.lastValidationResult=[],c.validationInformationVisible=!1,this._ui=c}},_manageClassHandler:function(){if("string"==typeof this.options.classHandler&&a(this.options.classHandler).length)return a(this.options.classHandler);var c=this.options.classHandler.call(this,this);return"undefined"!=typeof c&&c.length?c:this._inputHolder()},_inputHolder:function(){return!this.options.multiple||this.$element.is("select")?this.$element:this.$element.parent()},_insertErrorWrapper:function(){var c;if(0!==this._ui.$errorsWrapper.parent().length)return this._ui.$errorsWrapper.parent();if("string"==typeof this.options.errorsContainer){if(a(this.options.errorsContainer).length)return a(this.options.errorsContainer).append(this._ui.$errorsWrapper);e.warn("The errors container `"+this.options.errorsContainer+"` does not exist in DOM")}else"function"==typeof this.options.errorsContainer&&(c=this.options.errorsContainer.call(this,this));return"undefined"!=typeof c&&c.length?c.append(this._ui.$errorsWrapper):this._inputHolder().after(this._ui.$errorsWrapper)},_actualizeTriggers:function(){var d,b=this,c=this._findRelated();c.off(".Parsley"),this._failedOnce?c.on(e.namespaceEvents(this.options.triggerAfterFailure,"Parsley"),function(){b._validateIfNeeded()}):(d=e.namespaceEvents(this.options.trigger,"Parsley"))&&c.on(d,function(a){b._validateIfNeeded(a)})},_validateIfNeeded:function(b){var c=this;b&&/key|input/.test(b.type)&&(!this._ui||!this._ui.validationInformationVisible)&&this.getValue().length<=this.options.validationThreshold||(this.options.debounce?(window.clearTimeout(this._debounced),this._debounced=window.setTimeout(function(){return c.validate()},this.options.debounce)):this.validate())},_resetUI:function(){this._failedOnce=!1,this._actualizeTriggers(),"undefined"!=typeof this._ui&&(this._ui.$errorsWrapper.removeClass("filled").children().remove(),this._resetClass(),this._ui.lastValidationResult=[],this._ui.validationInformationVisible=!1)},_destroyUI:function(){this._resetUI(),"undefined"!=typeof this._ui&&this._ui.$errorsWrapper.remove(),delete this._ui},_successClass:function(){this._ui.validationInformationVisible=!0,this._ui.$errorClassHandler.removeClass(this.options.errorClass).addClass(this.options.successClass)},_errorClass:function(){this._ui.validationInformationVisible=!0,this._ui.$errorClassHandler.removeClass(this.options.successClass).addClass(this.options.errorClass)},_resetClass:function(){this._ui.$errorClassHandler.removeClass(this.options.successClass).removeClass(this.options.errorClass)}};var r=function(c,d,e){this.__class__="ParsleyForm",this.$element=a(c),this.domOptions=d,this.options=e,this.parent=window.Parsley,this.fields=[],this.validationResult=null},s={pending:null,resolved:!0,rejected:!1};r.prototype={onSubmitValidate:function(b){var c=this;if(!0!==b.parsley){var d=this._$submitSource||this.$element.find(e._SubmitSelector).first();if(this._$submitSource=null,this.$element.find(".parsley-synthetic-submit-button").prop("disabled",!0),!d.is("[formnovalidate]")){var f=this.whenValidate({event:b});"resolved"===f.state()&&!1!==this._trigger("submit")||(b.stopImmediatePropagation(),b.preventDefault(),"pending"===f.state()&&f.done(function(){c._submit(d)}))}}},onSubmitButton:function(c){this._$submitSource=a(c.currentTarget)},_submit:function(c){if(!1!==this._trigger("submit")){if(c){var d=this.$element.find(".parsley-synthetic-submit-button").prop("disabled",!1);0===d.length&&(d=a('<input class="parsley-synthetic-submit-button" type="hidden">').appendTo(this.$element)),d.attr({name:c.attr("name"),value:c.attr("value")})}this.$element.trigger(a.extend(a.Event("submit"),{parsley:!0}))}},validate:function(c){if(arguments.length>=1&&!a.isPlainObject(c)){e.warnOnce("Calling validate on a parsley form without passing arguments as an object is deprecated.");var d=_slice.call(arguments),f=d[0],g=d[1],h=d[2];c={group:f,force:g,event:h}}return s[this.whenValidate(c).state()]},whenValidate:function(){var c,d=this,f=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],g=f.group,h=f.force,i=f.event;this.submitEvent=i,i&&(this.submitEvent=a.extend({},i,{})),this.validationResult=!0,this._trigger("validate"),this._refreshFields();var j=this._withoutReactualizingFormOptions(function(){return a.map(d.fields,function(a){return a.whenValidate({force:h,group:g})})});return(c=e.all(j).done(function(){d._trigger("success")}).fail(function(){d.validationResult=!1,d.focus(),d._trigger("error")}).always(function(){d._trigger("validated")})).pipe.apply(c,_toConsumableArray(this._pipeAccordingToValidationResult()))},isValid:function(c){if(arguments.length>=1&&!a.isPlainObject(c)){e.warnOnce("Calling isValid on a parsley form without passing arguments as an object is deprecated.");var d=_slice.call(arguments),f=d[0],g=d[1];c={group:f,force:g}}return s[this.whenValid(c).state()]},whenValid:function(){var c=this,d=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],f=d.group,g=d.force;this._refreshFields();var h=this._withoutReactualizingFormOptions(function(){return a.map(c.fields,function(a){return a.whenValid({group:f,force:g})})});return e.all(h)},_refreshFields:function(){return this.actualizeOptions()._bindFields()},_bindFields:function(){var c=this,d=this.fields;return this.fields=[],this.fieldsMappedById={},this._withoutReactualizingFormOptions(function(){c.$element.find(c.options.inputs).not(c.options.excluded).each(function(a,b){var d=new window.Parsley.Factory(b,{},c);"ParsleyField"!==d.__class__&&"ParsleyFieldMultiple"!==d.__class__||!0===d.options.excluded||"undefined"==typeof c.fieldsMappedById[d.__class__+"-"+d.__id__]&&(c.fieldsMappedById[d.__class__+"-"+d.__id__]=d,c.fields.push(d))}),a.each(e.difference(d,c.fields),function(a,b){b._trigger("reset")})}),this},_withoutReactualizingFormOptions:function(b){var c=this.actualizeOptions;this.actualizeOptions=function(){return this};var d=b();return this.actualizeOptions=c,d},_trigger:function(b){return this.trigger("form:"+b)}};var t=function(c,d,e,f,g){if(!/ParsleyField/.test(c.__class__))throw new Error("ParsleyField or ParsleyFieldMultiple instance expected");var h=window.Parsley._validatorRegistry.validators[d],i=new l(h);a.extend(this,{validator:i,name:d,requirements:e,priority:f||c.options[d+"Priority"]||i.priority,isDomConstraint:!0===g}),this._parseRequirements(c.options)},u=function(b){var c=b[0].toUpperCase();return c+b.slice(1)};t.prototype={validate:function(b,c){var d;return(d=this.validator).validate.apply(d,[b].concat(_toConsumableArray(this.requirementList),[c]))},_parseRequirements:function(b){var c=this;this.requirementList=this.validator.parseRequirements(this.requirements,function(a){return b[c.name+u(a)]})}};var v=function(c,d,e,f){this.__class__="ParsleyField",this.$element=a(c),"undefined"!=typeof f&&(this.parent=f),this.options=e,this.domOptions=d,this.constraints=[],this.constraintsByName={},this.validationResult=!0,this._bindConstraints()},w={pending:null,resolved:!0,rejected:!1};v.prototype={validate:function(c){arguments.length>=1&&!a.isPlainObject(c)&&(e.warnOnce("Calling validate on a parsley field without passing arguments as an object is deprecated."),c={options:c});var d=this.whenValidate(c);if(!d)return!0;switch(d.state()){case"pending":return null;case"resolved":return!0;case"rejected":return this.validationResult}},whenValidate:function(){var b,c=this,d=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=d.force,f=d.group;if(this.refreshConstraints(),!f||this._isInGroup(f))return this.value=this.getValue(),this._trigger("validate"),(b=this.whenValid({force:e,value:this.value,_refreshed:!0}).always(function(){c._reflowUI()}).done(function(){c._trigger("success")}).fail(function(){c._trigger("error")}).always(function(){c._trigger("validated")})).pipe.apply(b,_toConsumableArray(this._pipeAccordingToValidationResult()))},hasConstraints:function(){return 0!==this.constraints.length},needsValidation:function(b){return"undefined"==typeof b&&(b=this.getValue()),!(!b.length&&!this._isRequired()&&"undefined"==typeof this.options.validateIfEmpty)},_isInGroup:function(c){return a.isArray(this.options.group)?-1!==a.inArray(c,this.options.group):this.options.group===c},isValid:function(c){if(arguments.length>=1&&!a.isPlainObject(c)){e.warnOnce("Calling isValid on a parsley field without passing arguments as an object is deprecated.");var d=_slice.call(arguments),f=d[0],g=d[1];c={force:f,value:g}}var h=this.whenValid(c);return!h||w[h.state()]},whenValid:function(){var c=this,d=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],f=d.force,g=void 0!==f&&f,h=d.value,i=d.group,j=d._refreshed;if(j||this.refreshConstraints(),!i||this._isInGroup(i)){if(this.validationResult=!0,!this.hasConstraints())return a.when();if("undefined"!=typeof h&&null!==h||(h=this.getValue()),!this.needsValidation(h)&&!0!==g)return a.when();var k=this._getGroupedConstraints(),l=[];return a.each(k,function(b,d){var f=e.all(a.map(d,function(a){return c._validateConstraint(h,a)}));if(l.push(f),"rejected"===f.state())return!1}),e.all(l)}},_validateConstraint:function(c,d){var f=this,g=d.validate(c,this);return!1===g&&(g=a.Deferred().reject()),e.all([g]).fail(function(a){f.validationResult instanceof Array||(f.validationResult=[]),f.validationResult.push({assert:d,errorMessage:"string"==typeof a&&a})})},getValue:function(){var b;return b="function"==typeof this.options.value?this.options.value(this):"undefined"!=typeof this.options.value?this.options.value:this.$element.val(),"undefined"==typeof b||null===b?"":this._handleWhitespace(b)},refreshConstraints:function(){return this.actualizeOptions()._bindConstraints()},addConstraint:function(b,c,d,e){if(window.Parsley._validatorRegistry.validators[b]){var f=new t(this,b,c,d,e);"undefined"!==this.constraintsByName[f.name]&&this.removeConstraint(f.name),this.constraints.push(f),this.constraintsByName[f.name]=f}return this},removeConstraint:function(b){for(var c=0;c<this.constraints.length;c++)if(b===this.constraints[c].name){this.constraints.splice(c,1);break}return delete this.constraintsByName[b],this},updateConstraint:function(b,c,d){return this.removeConstraint(b).addConstraint(b,c,d)},_bindConstraints:function(){for(var b=[],c={},d=0;d<this.constraints.length;d++)!1===this.constraints[d].isDomConstraint&&(b.push(this.constraints[d]),c[this.constraints[d].name]=this.constraints[d]);this.constraints=b,this.constraintsByName=c;for(var e in this.options)this.addConstraint(e,this.options[e],void 0,!0);return this._bindHtml5Constraints()},_bindHtml5Constraints:function(){this.$element.attr("required")&&this.addConstraint("required",!0,void 0,!0),"string"==typeof this.$element.attr("pattern")&&this.addConstraint("pattern",this.$element.attr("pattern"),void 0,!0),"undefined"!=typeof this.$element.attr("min")&&"undefined"!=typeof this.$element.attr("max")?this.addConstraint("range",[this.$element.attr("min"),this.$element.attr("max")],void 0,!0):"undefined"!=typeof this.$element.attr("min")?this.addConstraint("min",this.$element.attr("min"),void 0,!0):"undefined"!=typeof this.$element.attr("max")&&this.addConstraint("max",this.$element.attr("max"),void 0,!0),"undefined"!=typeof this.$element.attr("minlength")&&"undefined"!=typeof this.$element.attr("maxlength")?this.addConstraint("length",[this.$element.attr("minlength"),this.$element.attr("maxlength")],void 0,!0):"undefined"!=typeof this.$element.attr("minlength")?this.addConstraint("minlength",this.$element.attr("minlength"),void 0,!0):"undefined"!=typeof this.$element.attr("maxlength")&&this.addConstraint("maxlength",this.$element.attr("maxlength"),void 0,!0);var b=this.$element.attr("type");return"undefined"==typeof b?this:"number"===b?this.addConstraint("type",["number",{step:this.$element.attr("step")||"1",base:this.$element.attr("min")||this.$element.attr("value")}],void 0,!0):/^(email|url|range)$/i.test(b)?this.addConstraint("type",b,void 0,!0):this},_isRequired:function(){return"undefined"!=typeof this.constraintsByName.required&&!1!==this.constraintsByName.required.requirements},_trigger:function(b){return this.trigger("field:"+b)},_handleWhitespace:function(b){return!0===this.options.trimValue&&e.warnOnce('data-parsley-trim-value="true" is deprecated, please use data-parsley-whitespace="trim"'),"squish"===this.options.whitespace&&(b=b.replace(/\s{2,}/g," ")),"trim"!==this.options.whitespace&&"squish"!==this.options.whitespace&&!0!==this.options.trimValue||(b=e.trimString(b)),b},_getGroupedConstraints:function(){if(!1===this.options.priorityEnabled)return[this.constraints];for(var b=[],c={},d=0;d<this.constraints.length;d++){var e=this.constraints[d].priority;c[e]||b.push(c[e]=[]),c[e].push(this.constraints[d])}return b.sort(function(a,b){return b[0].priority-a[0].priority}),b}};var x=v,y=function(){this.__class__="ParsleyFieldMultiple"};y.prototype={addElement:function(b){return this.$elements.push(b),this},refreshConstraints:function(){var c;if(this.constraints=[],this.$element.is("select"))return this.actualizeOptions()._bindConstraints(),this;for(var d=0;d<this.$elements.length;d++)if(a("html").has(this.$elements[d]).length){c=this.$elements[d].data("ParsleyFieldMultiple").refreshConstraints().constraints;for(var e=0;e<c.length;e++)this.addConstraint(c[e].name,c[e].requirements,c[e].priority,c[e].isDomConstraint)}else this.$elements.splice(d,1);return this},getValue:function(){if("function"==typeof this.options.value)return this.options.value(this);if("undefined"!=typeof this.options.value)return this.options.value;if(this.$element.is("input[type=radio]"))return this._findRelated().filter(":checked").val()||"";if(this.$element.is("input[type=checkbox]")){var c=[];return this._findRelated().filter(":checked").each(function(){c.push(a(this).val())}),c}return this.$element.is("select")&&null===this.$element.val()?[]:this.$element.val()},_init:function(){return this.$elements=[this.$element],this}};var z=function(c,d,e){this.$element=a(c);var f=this.$element.data("Parsley");if(f)return"undefined"!=typeof e&&f.parent===window.Parsley&&(f.parent=e,f._resetOptions(f.options)),"object"==typeof d&&a.extend(f.options,d),f;if(!this.$element.length)throw new Error("You must bind Parsley on an existing element.");if("undefined"!=typeof e&&"ParsleyForm"!==e.__class__)throw new Error("Parent instance must be a ParsleyForm instance");
    return this.parent=e||window.Parsley,this.init(d)};z.prototype={init:function(b){return this.__class__="Parsley",this.__version__="2.6.0",this.__id__=e.generateID(),this._resetOptions(b),this.$element.is("form")||e.checkAttr(this.$element,this.options.namespace,"validate")&&!this.$element.is(this.options.inputs)?this.bind("parsleyForm"):this.isMultiple()?this.handleMultiple():this.bind("parsleyField")},isMultiple:function(){return this.$element.is("input[type=radio], input[type=checkbox]")||this.$element.is("select")&&"undefined"!=typeof this.$element.attr("multiple")},handleMultiple:function(){var d,g,c=this;if(this.options.multiple||("undefined"!=typeof this.$element.attr("name")&&this.$element.attr("name").length?this.options.multiple=d=this.$element.attr("name"):"undefined"!=typeof this.$element.attr("id")&&this.$element.attr("id").length&&(this.options.multiple=this.$element.attr("id"))),this.$element.is("select")&&"undefined"!=typeof this.$element.attr("multiple"))return this.options.multiple=this.options.multiple||this.__id__,this.bind("parsleyFieldMultiple");if(!this.options.multiple)return e.warn("To be bound by Parsley, a radio, a checkbox and a multiple select input must have either a name or a multiple option.",this.$element),this;this.options.multiple=this.options.multiple.replace(/(:|\.|\[|\]|\{|\}|\$)/g,""),"undefined"!=typeof d&&a('input[name="'+d+'"]').each(function(b,d){a(d).is("input[type=radio], input[type=checkbox]")&&a(d).attr(c.options.namespace+"multiple",c.options.multiple)});for(var h=this._findRelated(),i=0;i<h.length;i++)if(g=a(h.get(i)).data("Parsley"),"undefined"!=typeof g){this.$element.data("ParsleyFieldMultiple")||g.addElement(this.$element);break}return this.bind("parsleyField",!0),g||this.bind("parsleyFieldMultiple")},bind:function(c,d){var f;switch(c){case"parsleyForm":f=a.extend(new r(this.$element,this.domOptions,this.options),new g,window.ParsleyExtend)._bindFields();break;case"parsleyField":f=a.extend(new x(this.$element,this.domOptions,this.options,this.parent),new g,window.ParsleyExtend);break;case"parsleyFieldMultiple":f=a.extend(new x(this.$element,this.domOptions,this.options,this.parent),new y,new g,window.ParsleyExtend)._init();break;default:throw new Error(c+"is not a supported Parsley type")}return this.options.multiple&&e.setAttr(this.$element,this.options.namespace,"multiple",this.options.multiple),"undefined"!=typeof d?(this.$element.data("ParsleyFieldMultiple",f),f):(this.$element.data("Parsley",f),f._actualizeTriggers(),f._trigger("init"),f)}};var A=a.fn.jquery.split(".");if(parseInt(A[0])<=1&&parseInt(A[1])<8)throw"The loaded version of jQuery is too old. Please upgrade to 1.8.x or better.";A.forEach||e.warn("Parsley requires ES5 to run properly. Please include https://github.com/es-shims/es5-shim");var B=a.extend(new g,{$element:a(document),actualizeOptions:null,_resetOptions:null,Factory:z,version:"2.6.0"});a.extend(x.prototype,p.Field,g.prototype),a.extend(r.prototype,p.Form,g.prototype),a.extend(z.prototype,g.prototype),a.fn.parsley=a.fn.psly=function(b){if(this.length>1){var c=[];return this.each(function(){c.push(a(this).parsley(b))}),c}return a(this).length?new z(this,b):void e.warn("You must bind Parsley on an existing element.")},"undefined"==typeof window.ParsleyExtend&&(window.ParsleyExtend={}),B.options=a.extend(e.objectCreate(f),window.ParsleyConfig),window.ParsleyConfig=B.options,window.Parsley=window.psly=B,window.ParsleyUtils=e;var C=window.Parsley._validatorRegistry=new m(window.ParsleyConfig.validators,window.ParsleyConfig.i18n);window.ParsleyValidator={},a.each("setLocale addCatalog addMessage addMessages getErrorMessage formatMessage addValidator updateValidator removeValidator".split(" "),function(b,c){window.Parsley[c]=a.proxy(C,c),window.ParsleyValidator[c]=function(){var a;return e.warnOnce("Accessing the method '"+c+"' through ParsleyValidator is deprecated. Simply call 'window.Parsley."+c+"(...)'"),(a=window.Parsley)[c].apply(a,arguments)}}),window.Parsley.UI=p,window.ParsleyUI={removeError:function(b,c,d){var f=!0!==d;return e.warnOnce("Accessing ParsleyUI is deprecated. Call 'removeError' on the instance directly. Please comment in issue 1073 as to your need to call this method."),b.removeError(c,{updateClass:f})},getErrorsMessages:function(b){return e.warnOnce("Accessing ParsleyUI is deprecated. Call 'getErrorsMessages' on the instance directly."),b.getErrorsMessages()}},a.each("addError updateError".split(" "),function(a,b){window.ParsleyUI[b]=function(a,c,d,f,g){var h=!0!==g;return e.warnOnce("Accessing ParsleyUI is deprecated. Call '"+b+"' on the instance directly. Please comment in issue 1073 as to your need to call this method."),a[b](c,{message:d,assert:f,updateClass:h})}}),!1!==window.ParsleyConfig.autoBind&&a(function(){a("[data-parsley-validate]").length&&a("[data-parsley-validate]").parsley()});var D=a({}),E=function(){e.warnOnce("Parsley's pubsub module is deprecated; use the 'on' and 'off' methods on parsley instances or window.Parsley")},G="parsley:";a.listen=function(a,b){var c;if(E(),"object"==typeof arguments[1]&&"function"==typeof arguments[2]&&(c=arguments[1],b=arguments[2]),"function"!=typeof b)throw new Error("Wrong parameters");window.Parsley.on(H(a),F(b,c))},a.listenTo=function(a,b,c){if(E(),!(a instanceof x||a instanceof r))throw new Error("Must give Parsley instance");if("string"!=typeof b||"function"!=typeof c)throw new Error("Wrong parameters");a.on(H(b),F(c))},a.unsubscribe=function(a,b){if(E(),"string"!=typeof a||"function"!=typeof b)throw new Error("Wrong arguments");window.Parsley.off(H(a),b.parsleyAdaptedCallback)},a.unsubscribeTo=function(a,b){if(E(),!(a instanceof x||a instanceof r))throw new Error("Must give Parsley instance");a.off(H(b))},a.unsubscribeAll=function(b){E(),window.Parsley.off(H(b)),a("form,input,textarea,select").each(function(){var c=a(this).data("Parsley");c&&c.off(H(b))})},a.emit=function(a,b){var c;E();var d=b instanceof x||b instanceof r,e=Array.prototype.slice.call(arguments,d?2:1);e.unshift(H(a)),d||(b=window.Parsley),(c=b).trigger.apply(c,_toConsumableArray(e))};a.extend(!0,B,{asyncValidators:{default:{fn:function(b){return b.status>=200&&b.status<300},url:!1},reverse:{fn:function(b){return b.status<200||b.status>=300},url:!1}},addAsyncValidator:function(b,c,d,e){return B.asyncValidators[b]={fn:c,url:d||!1,options:e||{}},this}}),B.addValidator("remote",{requirementType:{"":"string",validator:"string",reverse:"boolean",options:"object"},validateString:function(c,d,e,f){var h,i,g={},j=e.validator||(!0===e.reverse?"reverse":"default");if("undefined"==typeof B.asyncValidators[j])throw new Error("Calling an undefined async validator: `"+j+"`");d=B.asyncValidators[j].url||d,d.indexOf("{value}")>-1?d=d.replace("{value}",encodeURIComponent(c)):g[f.$element.attr("name")||f.$element.attr("id")]=c;var k=a.extend(!0,e.options||{},B.asyncValidators[j].options);h=a.extend(!0,{},{url:d,data:g,type:"GET"},k),f.trigger("field:ajaxoptions",f,h),i=a.param(h),"undefined"==typeof B._remoteCache&&(B._remoteCache={});var l=B._remoteCache[i]=B._remoteCache[i]||a.ajax(h),m=function(){var c=B.asyncValidators[j].fn.call(f,l,d,e);return c||(c=a.Deferred().reject()),a.when(c)};return l.then(m,m)},priority:-1}),B.on("form:submit",function(){B._remoteCache={}}),window.ParsleyExtend.addAsyncValidator=function(){return ParsleyUtils.warnOnce("Accessing the method `addAsyncValidator` through an instance is deprecated. Simply call `Parsley.addAsyncValidator(...)`"),B.addAsyncValidator.apply(B,arguments)},B.addMessages("en",{defaultMessage:"This value seems to be invalid.",type:{email:"This value should be a valid email.",url:"This value should be a valid url.",number:"This value should be a valid number.",integer:"This value should be a valid integer.",digits:"This value should be digits.",alphanum:"This value should be alphanumeric."},notblank:"This value should not be blank.",required:"This value is required.",pattern:"This value seems to be invalid.",min:"This value should be greater than or equal to %s.",max:"This value should be lower than or equal to %s.",range:"This value should be between %s and %s.",minlength:"This value is too short. It should have %s characters or more.",maxlength:"This value is too long. It should have %s characters or fewer.",length:"This value length is invalid. It should be between %s and %s characters long.",mincheck:"You must select at least %s choices.",maxcheck:"You must select %s choices or fewer.",check:"You must select between %s and %s choices.",equalto:"This value should be the same."}),B.setLocale("en");var K=new J;K.install();var L=B;return L});